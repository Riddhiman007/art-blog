{% extends "layout.html" %}
{% block content %}
<header class="masthead">
    <div class="container position-relative px-4 px-lg-5">
        <div class="row gx-4 gx-lg-5 justify-content-center">
            <div class="col-md-10 col-lg-8 col-xl-7">
                <div class="post-heading">
                    <h1>Create Posts</h1>
                    <h2 class="subheading">Want to create your own posts? Then, here is your chance</h2>
                </div>
            </div>
        </div>
    </div>
</header>
<main class="flex justify-center align-middle container-fluid">
    <div class="container-sm bg-white bg-gradient">
        <div class="flex container justify-center">
            <form action="/post/create" method="post" enctype="multipart/form-data" autocomplete="on">
                <div class="mb-3">
                    <label for="title" class="form-label">Title</label>
                    <input type="text" class="form-control" id="title" name="title">
                </div>
                <div class="mb-3">
                    <label for="sub_title" class="form-label">Sub Title</label>
                    <input type="text" class="form-control" id="sub_title" name="sub_title">
                </div>
                <div class="mb-3">
                    <label for="editor" class="form-label">Post Content</label> <br>
                    <textarea name="content" id="editor" rows="10"></textarea>
                </div>
                <div class="col-12">
                    <input class="btn btn-primary" id="submit" type="submit">
                </div>
            </form>
        </div>
        {% if entry %}
        <div class="container">
            <h1 class="text-center">{{ entry.title }}</h1>
            <h2 class="subheading" style="color: black;">{{ entry.sub_title }}</h2>
            <div class="container">
                {{ content }}
            </div>
            {% endif %}
        </div>
</main>
{% endblock %}
{% block scripts %}
<!-- <script src="../static/rich-text-editor/build/ckeditor.js"></script> -->
<script src="../static/dist/bundle.js"></script>
<!-- <script>
    const watchdog = new EditorWatchdog();
    const editor_area = document.getElementById('editor');
    window.watchdog = watchdog;

    watchdog.setCreator((element, config) => {
        return Editor
            .create(element, [
                config ])
            .then(editor => {

                return editor;
            })
    });

    watchdog.setDestructor(editor => {



        return editor.destroy();
    });

    watchdog.on('error', handleError);

    watchdog
        .create(editor_area, {

            licenseKey: '',

        }).then(editor => { console.log(editor.getData()) })
        .catch(handleError);

    function handleError(error) {
        console.error('Oops, something went wrong!');
        console.error('Please, report the following error on https://github.com/ckeditor/ckeditor5/issues with the build id and the error stack trace:');
        console.warn('Build id: 60x0sbxabx2a-xn94u33bebmt');
        console.error(error);
    }
</script> -->

{% endblock %}